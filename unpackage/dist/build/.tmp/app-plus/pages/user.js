(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user"],{"0d00":function(a,t,e){"use strict";(function(a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e("2f62"),r=e("d441");function o(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},n=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.forEach(function(t){c(a,t,e[t])})}return a}function c(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var d=getApp(),u={data:function(){return{cardId:d.globalData.cardId,balance:d.globalData.balance,certStatus:d.globalData.certStatus||""}},computed:o({},(0,n.mapState)(["userData","openID","nickName","headImgUrl","docUrl","passwordExist","supportRecover","needUnbind","needAuth","payMode","changeCard"]),(0,n.mapGetters)(["getHeadImgUrl","getNickName"]),(0,n.mapGetters)("userData",["menuListFilter"])),mounted:function(){var t=this;t.getUserOpenId().then(function(e){d.globalData.unionId=e.unionid,d.globalData.openId=e.openId,d.globalData.nickName=e.nickName,d.globalData.avatarUrl=e.avatarUrl,d.globalData.cardId=e.cardId?e.cardId:"",t.cardId=e.cardId?e.cardId:"",""==t.cardId&&a.navigateTo({url:"pages/change"}),a.setStorage({key:"CARDID",data:t.cardId,success:function(){t.getCardInfo()}})})},onShow:function(){this.getCardInfo()},methods:o({navaToChange:function(){a.navigateTo({url:"/pages/change??target=user"})},getCardInfo:function(){var t=this;return new Promise(function(e,n){a.getStorage({key:"CARDID",success:function(a){""!=a.data&&(t.cardId=a.data,d.globalData.cardId=a.data,(0,r.getCheckCardByNumber)(a.data).then(function(a){e(a),200==a.statusCode&&""!=a.data.card_no&&(d.globalData.carqdId=a.data.card_no,t.asyncSetting({ispName:a.data.operator,docUrl:a.data.use_doc_url,passwordExist:a.data.password_exist,needUnbind:a.data.need_unbind,certStatus:a.data.cert_status,supportRecover:a.data.support_recover,payMode:a.data.pay_mode,needAuth:a.data.need_auth,canTg:a.data.can_tg,changeCard:a.data.change_card,cardChgStu:a.data.change_status}),d.globalData.balance=a.data.balance,t.balance=a.data.balance,d.globalData.docUrl=a.data.use_doc_url,d.globalData.certStatus=a.data.cert_status,t.certStatus=a.data.cert_status,d.globalData.payMode=a.data.pay_mode)}).catch(function(a){n(a)}))}})})},navaToPage:function(t){""==d.globalData.openId?this.getUserOpenId().then(function(a){d.globalData.unionId=a.unionid,d.globalData.openId=a.openId,d.globalData.nickName=a.nickName,d.globalData.avatarUrl=a.avatarUrl}):""==this.cardId?"/pages/help"==t?a.switchTab({url:t}):a.navigateTo({url:"/pages/change?target="+t}):a.navigateTo({url:t})},toHelp:function(){""==this.cardId?a.showToast({title:"请先绑定卡号",icon:"none"}):""==this.docUrl?a.showToast({title:"此卡暂无使用说明",icon:"none"}):a.navigateTo({url:"/pages/web-view"})}},(0,n.mapActions)("userData",["updateBalanceBy","asyncItemShow"]),(0,n.mapActions)(["asyncSetting","getUserOpenId"]))};t.default=u}).call(this,e("6e42")["default"])},"1ad7":function(a,t,e){},"626c":function(a,t,e){"use strict";var n=e("1ad7"),r=e.n(n);r.a},"67ae":function(a,t,e){"use strict";e.r(t);var n=e("73a7"),r=e("7569");for(var o in r)"default"!==o&&function(a){e.d(t,a,function(){return r[a]})}(o);e("626c");var c=e("2877"),d=Object(c["a"])(r["default"],n["a"],n["b"],!1,null,null,null);t["default"]=d.exports},"73a7":function(a,t,e){"use strict";var n=function(){var a=this,t=a.$createElement;a._self._c},r=[];e.d(t,"a",function(){return n}),e.d(t,"b",function(){return r})},7569:function(a,t,e){"use strict";e.r(t);var n=e("0d00"),r=e.n(n);for(var o in n)"default"!==o&&function(a){e.d(t,a,function(){return n[a]})}(o);t["default"]=r.a},ec01:function(a,t,e){"use strict";(function(a){e("8602"),e("921b");n(e("66fd"));var t=n(e("67ae"));function n(a){return a&&a.__esModule?a:{default:a}}a(t.default)}).call(this,e("6e42")["createPage"])}},[["ec01","common/runtime","common/vendor"]]]);