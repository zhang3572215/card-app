(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/set-meals"],{"19ee":function(t,e,n){"use strict";var c=n("72f3"),o=n.n(c);o.a},2375:function(t,e,n){},"48c5":function(t,e,n){"use strict";var c=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){return t.$refs.suitSelectPopup.close()},t.e1=function(e){t.timeSuer=0},t.e2=function(e){t.timeSuer=1})},o=[];n.d(e,"a",function(){return c}),n.d(e,"b",function(){return o})},"5e81":function(t,e,n){"use strict";var c=n("2375"),o=n.n(c);o.a},"72a1":function(t,e,n){"use strict";n.r(e);var c=n("96c5"),o=n.n(c);for(var u in c)"default"!==u&&function(t){n.d(e,t,function(){return c[t]})}(u);e["default"]=o.a},"72f3":function(t,e,n){},"96c5":function(t,e,n){"use strict";(function(t,c){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("2f62"),u=n("d441");function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},c=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(c=c.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),c.forEach(function(e){a(t,e,n[e])})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"e3a6"))},s=getApp(),d={data:function(){return{activeIndex:-1,timeSuer:0,cardId:s.globalData.cardId}},computed:i({},(0,o.mapState)("setMealList",["clockIcon","productList"]),(0,o.mapState)(["openID","payMode"])),mounted:function(){this.updateProductListBy(s.globalData.cardId)},methods:i({},(0,o.mapActions)("setMealList",["updateProductListBy"]),{pickChange:function(t){this.activeIndex=t},submitForm:function(){-1==this.activeIndex?this.$refs.suitSelectPopup.open():(this.$refs.suitSelectPopup.close(),"允许"==this.productList[this.activeIndex].allow_next_month?this.$refs.selectNextPopup.open():(this.timeSuer=0,this.confirmMeal(0)))},confirmMeal:function(e){var n=this;this.$refs.selectNextPopup.close(),(0,u.getSiutStatus)({product_id:this.productList[this.activeIndex].product_id,card_no:this.cardId,effect_type:e}).then(function(c){0==c.data.code&&("直付模式"==n.payMode?n.toWxPay(e):t.navigateTo({url:"/pages/recharge?product_id="+n.productList[n.activeIndex].product_id+"&product_name="+n.productList[n.activeIndex].product_name+"&is_next_use="+e+"&amount="+n.productList[n.activeIndex].price}))})},toWxPay:function(e){(0,u.getPayDataByWx)({product_id:this.productList[this.activeIndex].product_id,effect_type:e,card_no:this.cardId}).then(function(e){200==e.statusCode&&t.requestPayment({provider:"wxpay",orderInfo:e.data.result,success:function(e){t.showToast({title:"支付成功",icon:"success"});var n=setTimeout(function(){t.hideToast(n),t.switchTab({url:"pages/user"})},2e3)},fail:function(t){console.log(c("fail:"+JSON.stringify(t)," at pages\\set-meals.vue:165"))}})})},toUserCenter:function(){t.switchTab({url:"/pages/user"})}}),components:{uniPopup:r}};e.default=d}).call(this,n("6e42")["default"],n("0de9")["default"])},c213:function(t,e,n){"use strict";n.r(e);var c=n("48c5"),o=n("72a1");for(var u in o)"default"!==u&&function(t){n.d(e,t,function(){return o[t]})}(u);n("5e81"),n("19ee");var i=n("2877"),a=Object(i["a"])(o["default"],c["a"],c["b"],!1,null,"7b4afc2b",null);e["default"]=a.exports},da2b:function(t,e,n){"use strict";(function(t){n("8602"),n("921b");c(n("66fd"));var e=c(n("c213"));function c(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])}},[["da2b","common/runtime","common/vendor"]]]);