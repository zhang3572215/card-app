(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/receive-spec"],{"3a29":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},r=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},6016:function(e,t,n){"use strict";n.r(t);var a=n("3a29"),r=n("9021");for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n("b6cf");var c=n("2877"),i=Object(c["a"])(r["default"],a["a"],a["b"],!1,null,"0904d1e6",null);t["default"]=i.exports},"610c":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("2f62"),r=i(n("4053")),o=i(n("ee6a")),c=n("d441");function i(e){return e&&e.__esModule?e:{default:e}}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=getApp(),s={data:function(){return{bannerPath:n("d5e2"),cardImageUrl:n("d5e2"),showPick:!1,cardNo:"",productInfo:{name:"移动流量卡换卡申请",remain:"999+",price:0},orderInfo:{receiveName:"",preCardNo:f.globalData.cardId||"",phone:"",addName:"",addrDetail:"",num:1,content:"",fare:0},openID:"",headImgUrl:"",nickName:"",showImg:!1,qrCodeImagePath:n("75bd"),pIndex:19,cIndex:4,tIndex:1}},computed:d({},(0,a.mapState)(["changeCard","cardChgStu"]),{provinceList:function(){var e=new Array;return r.default.forEach(function(t){e.push(t.name)}),e},cityList:function(){var e=new Array;return r.default[this.pIndex].sub.forEach(function(t){e.push(t.name)}),e},countyList:function(){var e=new Array;return r.default[this.pIndex].sub[this.cIndex].sub.forEach(function(t){e.push(t.name)}),e},locationData:function(){return this.provinceList[this.pIndex]+" "+this.cityList[this.cIndex]+" "+this.countyList[this.tIndex]}}),mounted:function(){this.checkCardInfo()},methods:d({checkCardInfo:function(){var e=this;(0,c.getCheckCardByNumber)(this.cardId).then(function(t){200==t.status&&""!=t.data.card_no&&e.asyncSetting({changeCard:t.data.change_card,cardChgStu:t.data.change_status})})},pickerChange:function(e){this.orderInfo.addName=this.locationData},columnchange:function(e){switch(e.detail.column){case 0:this.pIndex=e.detail.value;break;case 1:this.cIndex=e.detail.value;break;case 2:this.tIndex=e.detail.value;break;default:break}},showStatusTips:function(){e.showModal({title:"提示",content:"该卡已经申请更换新卡，请勿重复提交"})},submitOrder:function(){var t=this;if(t.orderInfo.preCardNo&&""!=t.orderInfo.preCardNo)if(t.orderInfo.receiveName&&""!=t.orderInfo.receiveName)if(t.orderInfo.phone&&""!=t.orderInfo.phone&&/^1\d{10}$/.test(t.orderInfo.phone)){var n=t.orderInfo.addName+this.orderInfo.addrDetail;""!=n?"已申请"==this.cardChgStu?e.showModal({title:"提示",content:"该卡已经申请更换新卡，请勿重复提交"}):e.request({url:o.default+"wx/change_card",method:"POST",header:{"content-type":"application/json"},data:{name:t.orderInfo.receiveName,phone:t.orderInfo.phone,addr:t.orderInfo.addName+t.orderInfo.addrDetail,card_no:t.orderInfo.preCardNo,remark:t.orderInfo.content},success:function(n){0==n.data.code&&e.showModal({title:"提示",content:"提交成功，我们将在48小时内为您发货，收到卡后可联系人工客服转移原卡以及套餐",confirmText:"确定",success:function(e){t.checkCardInfo()}})}}):e.showToast({title:"请选择城市并填写详细地址",icon:"none"})}else e.showToast({title:"请填写正确的收货人手机号",icon:"none"});else e.showToast({title:"请先填写收货人姓名",icon:"none"});else e.showToast({title:"请填写收原卡号",icon:"none"})}},(0,a.mapActions)(["asyncSetting"])),components:{}};t.default=s}).call(this,n("6e42")["default"])},"63eb":function(e,t,n){"use strict";(function(e){n("8602"),n("921b");a(n("66fd"));var t=a(n("6016"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},9021:function(e,t,n){"use strict";n.r(t);var a=n("610c"),r=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t["default"]=r.a},b6cf:function(e,t,n){"use strict";var a=n("f18f"),r=n.n(a);r.a},f18f:function(e,t,n){}},[["63eb","common/runtime","common/vendor"]]]);